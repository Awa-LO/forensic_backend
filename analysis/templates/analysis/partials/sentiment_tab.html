<div class="container py-3">
    <h4><i class="bi bi-emoji-smile"></i> Détails de l'analyse de sentiment</h4>

    {% if sentiment_items %}
        <table class="table table-striped table-hover mt-3">
            <thead>
                <tr>
                    <th>Texte analysé</th>
                    <th>Sentiment détecté</th>
                    <th>Score de confiance</th>
                    <th>Commentaire</th>
                </tr>
            </thead>
            <tbody>
                {% for item in sentiment_items %}
                <tr>
                    <td style="max-width: 400px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;" title="{{ item.text }}">
                        {{ item.text }}
                    </td>
                    <td>
                        {% if item.sentiment == 'positive' %}
                            <span class="text-success"><i class="bi bi-emoji-smile"></i> Positif</span>
                        {% elif item.sentiment == 'neutral' %}
                            <span class="text-warning"><i class="bi bi-emoji-neutral"></i> Neutre</span>
                        {% else %}
                            <span class="text-danger"><i class="bi bi-emoji-frown"></i> Négatif</span>
                        {% endif %}
                    </td>
                    <td>{{ item.confidence|floatformat:2 }}</td>
                    <td>
                        {% if item.sentiment == 'positive' %}
                            Texte à connotation favorable ou optimiste.
                        {% elif item.sentiment == 'neutral' %}
                            Texte à connotation neutre, sans émotion marquée.
                        {% else %}
                            Texte à connotation négative ou défavorable.
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <div class="alert alert-info mt-3">
            <i class="bi bi-info-circle"></i> Aucune analyse de sentiment disponible pour cette session.
        </div>
    {% endif %}
</div>
